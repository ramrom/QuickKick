<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<title>QuickKick</title>
<head>
<script type='text/javascript'>
var gamescreen = new Image();  
var goalie = new Image();
var ball = new Image();
var frame_count = 1;
var frame_rate = 30;
var intervalTimerID=0;
var dateOb = new Date();
var animationTimeStamp = Date.now();

function init() {
  gamescreen.src = 'images/GameScreen.png';  
  goalie.src = 'images/Goalie_Sitting.png';  
  ball.src = 'images/Ball_01.png';  
  //setTimeout(draw, 1000 / frame_rate);  
  animationTimeStamp = Date.now(); 
  intervalTimerID = setInterval(draw, 1000 / frame_rate);   
} 

function draw() {
      frame_count ++;
      var ctx = document.getElementById('canvas').getContext('2d');  
      
      //ctx.globalCompositeOperation = 'destination-over';  
      ctx.clearRect(0,0,500,500); // clear canvas  
      
      ctx.drawImage(gamescreen,0,0); 
      ctx.drawImage(goalie,235,85,40,60);  
      ctx.save();
      ctx.translate(250,410);
      ctx.rotate(Math.PI * 2 * frame_count / frame_rate);
      ctx.drawImage(ball,-50,-50,100,100);  
      ctx.restore();  

      ctx.font = "bold 25px sans-serif";
      ctx.fillText("You Missed!",200,200); 
      document.getElementById('framecounter').innerHTML = "Frame Count: " + frame_count;
      //document.getElementById('timer').innerHTML = "Timer: " + dateOb.getMilliseconds();
      document.getElementById('timer').innerHTML = "Timer: " + (Date.now() - animationTimeStamp);
      /*if (frame_count == 60) {
        clearInterval(intervalTimerID);
      } */
    }  
</script>
</head>
<body onload="init();">
<canvas id="canvas" width="500" height="500">You're browser doesn't support canvas</canvas> 
<h2 id="framecounter">Frame Count: </h2>
<h2 id="timer">Time: </h2>
</body>
</html>

